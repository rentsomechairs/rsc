:root{
  --bg:#070b16;
  --line: rgba(255,255,255,.10);
  --text:#eaf0ff;
  --muted:#aab6e8;
  --shadow: 0 18px 50px rgba(0,0,0,.45);
  --radius: 22px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background: var(--bg);
  overflow-x:hidden;
}

/* Background */
.bg{position:fixed; inset:0; z-index:-2; pointer-events:none}
.orb{position:absolute; filter: blur(30px); opacity:.55; border-radius:999px;}
.orb-a{ width:520px; height:520px; left:-160px; top:-120px; background: radial-gradient(circle at 30% 30%, rgba(122,162,255,.9), transparent 60%); }
.orb-b{ width:520px; height:520px; right:-160px; top:-140px; background: radial-gradient(circle at 65% 35%, rgba(134,239,172,.7), transparent 62%); }
.orb-c{ width:520px; height:520px; left:10%; bottom:-260px; background: radial-gradient(circle at 40% 40%, rgba(251,191,36,.35), transparent 60%); }
.grid-overlay{
  position:absolute; inset:0;
  background:
    linear-gradient(to right, rgba(255,255,255,.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,.04) 1px, transparent 1px);
  background-size: 52px 52px;
  mask-image: radial-gradient(circle at 50% 30%, black 25%, transparent 70%);
  opacity:.35;
}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 18px;
  background: rgba(7,11,22,.65);
  backdrop-filter: blur(12px);
  border-bottom:1px solid var(--line);
}
.brand{display:flex; align-items:center; gap:12px}
.logo{
  width:42px; height:42px;
  display:flex; align-items:center; justify-content:center;
  border-radius:16px;
  background: linear-gradient(135deg, rgba(122,162,255,.9), rgba(134,239,172,.55));
  color:#071022; font-weight:900;
}
.brand-title{font-weight:900}
.brand-subtitle{font-size:12px; color:var(--muted)}

.status-pill{
  display:flex; align-items:center; gap:10px;
  padding:9px 12px;
  border-radius:999px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  color: var(--muted);
  font-size:13px;
}
.status-dot{
  width:9px; height:9px; border-radius:999px;
  background: rgba(255,255,255,.35);
  box-shadow: 0 0 0 3px rgba(255,255,255,.08);
}

.wrap{max-width:1120px; margin:0 auto; padding:26px 18px 40px}
.hidden{display:none !important}

/* Landing hero */
.hero{
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap:18px;
  align-items:start;
}
.kicker{
  display:inline-flex; align-items:center;
  padding:7px 12px;
  border-radius:999px;
  border:1px solid rgba(122,162,255,.35);
  background: rgba(122,162,255,.10);
  color: var(--muted);
  font-size:13px;
  font-weight:650;
}
.headline{
  margin:14px 0 10px 0;
  font-size:42px;
  line-height:1.04;
  letter-spacing:-.6px;
}
.subhead{
  margin:0;
  color:var(--muted);
  font-size:16px;
  line-height:1.55;
  max-width:54ch;
}

/* non-clicky highlights */
.feature-row{ margin-top:20px; display:grid; gap:10px; max-width:56ch; }
.feature-line{
  display:flex; align-items:flex-start; gap:10px;
  padding:8px 0;
  border-top: 1px solid rgba(255,255,255,.06);
}
.feature-line:first-child{border-top:none}
.feature-bullet{
  width:28px; height:28px;
  flex: 0 0 28px;
  display:flex; align-items:center; justify-content:center;
  border-radius: 10px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  opacity:.9;
}
.feature-text{ line-height:1.35 }
.muted-inline{ color: var(--muted); font-weight:550; }

.mini-note{
  margin-top:18px;
  display:flex; align-items:center; gap:10px;
  padding:10px 12px;
  border-radius: 16px;
  border:1px dashed rgba(134,239,172,.35);
  background: rgba(134,239,172,.06);
  width: fit-content;
}
.mini-badge{
  font-size:12px;
  padding:3px 9px;
  border-radius:999px;
  border:1px solid rgba(134,239,172,.35);
  color: rgba(134,239,172,.95);
}
.mini-text{ color: var(--muted); font-size:13px; }

/* Card */
.card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card-head{
  padding:16px 16px 10px 16px;
  border-bottom:1px solid var(--line);
  display:flex; gap:12px;
  justify-content:space-between; align-items:flex-start;
  flex-wrap:wrap;
}
.card-title{font-weight:900; font-size:18px}
.card-sub{color:var(--muted); font-size:13px; margin-top:4px}
.card-body{padding:16px}

.steps{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end}
.step{
  display:flex; align-items:center; gap:8px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  color: var(--muted);
  padding:6px 9px;
  border-radius: 999px;
  font-size:12px;
}
.step .dot{
  width:9px; height:9px; border-radius:999px;
  background: rgba(255,255,255,.22);
}
.step.active{
  border-color: rgba(122,162,255,.45);
  color: var(--text);
}
.step.active .dot{ background: rgba(122,162,255,.85); }

.section-title{ font-weight:900; margin-bottom:10px; }

label{
  display:block;
  font-size:13px;
  color: var(--muted);
  margin:8px 0 6px;
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

.input{
  width:100%;
  padding:12px 12px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.20);
  color: var(--text);
  outline:none;
}
.input:focus{
  border-color: rgba(122,162,255,.55);
  box-shadow: 0 0 0 3px rgba(122,162,255,.12);
}
.textarea{ resize: vertical; }

.btn{
  width:100%;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.05);
  color: var(--text);
  padding:12px 14px;
  border-radius: 16px;
  font-weight:800;
  cursor:pointer;
  transition: transform .06s ease, border-color .15s ease, background .15s ease;
}

/* Landing: make "View Catalog & Pricing" more prominent */
.btn.btn-catalog{
  padding: 14px 18px;
  font-size: 16px;
  font-weight: 800;
  border-radius: 14px;
}
.btn:hover{ border-color: rgba(122,162,255,.55); background: rgba(122,162,255,.10); }
.btn:active{ transform: translateY(1px); }
.btn:disabled{ opacity:.55; cursor:not-allowed; }

.btn-primary{ background: rgba(122,162,255,.18); }
.btn-good{ background: rgba(134,239,172,.14); }
.btn-good:hover{ border-color: rgba(134,239,172,.55); background: rgba(134,239,172,.18); }
.btn-ghost{ background: rgba(0,0,0,.14); }
.btn-ghost:hover{ border-color: rgba(255,255,255,.22); background: rgba(255,255,255,.05); }

.btn-icon{
  display:inline-flex;
  width:26px; height:26px;
  margin-right:10px;
  border-radius:10px;
  align-items:center; justify-content:center;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
}

.divider{
  display:flex; align-items:center; gap:12px;
  margin:14px 0;
}
.divider::before, .divider::after{
  content:"";
  height:1px;
  flex:1;
  background: rgba(255,255,255,.10);
}
.divider span{ color: var(--muted); font-size:12px; }

.guest-panel{
  margin-top:10px;
  padding:12px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  display:none;
}
.guest-panel.open{ display:block; }

.helper{ margin-top:8px; font-size:12px; min-height:16px; }
.helper.subtle{ color: var(--muted); }

.chev{ float:right; opacity:.7; }

/* =========================
   ADMIN UI
========================= */
.admin-wrap{ margin-top: 24px; }
.admin-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.admin-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.admin-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.admin-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.admin-small{ padding:10px 12px; border-radius:14px; width:auto; }

.admin-tabs{
  display:flex; gap:10px; flex-wrap:wrap;
  margin: 10px 0 16px;
}
.admin-tab{
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  color: var(--muted);
  padding:10px 12px;
  border-radius: 999px;
  cursor:pointer;
  font-weight: 850;
}
.admin-tab.active{
  color: var(--text);
  border-color: rgba(122,162,255,.45);
  background: rgba(122,162,255,.10);
}

.admin-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  align-items:start;
}
.admin-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 16px;
}
.admin-card-title{ font-weight: 950; font-size: 16px; margin-bottom: 10px; }
.admin-card-subtitle{ margin-top: 10px; margin-bottom: 8px; color: var(--muted); font-size: 12px; font-weight: 800; }

.admin-row2{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.admin-row3{ display:flex; gap: 10px; margin-top: 12px; flex-wrap:wrap; }
.admin-field{ margin-top: 8px; }

.tiers-wrap{ display:grid; gap: 10px; }
.tier-row{
  display:grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 10px;
  align-items:end;
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.tier-remove{ width:auto; padding:10px 12px; border-radius:14px; }

.admin-list{ display:grid; gap: 10px; margin-top: 8px; }

.item-row{
  display:grid;
  grid-template-columns: 52px 1fr auto;
  gap: 12px;
  align-items:center;
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.thumb{
  width:52px; height:52px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
}
.thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
.item-title{ font-weight: 950; }
.item-sub{ color: var(--muted); font-size: 12px; margin-top: 3px; line-height: 1.35; }
.badge{
  display:inline-flex; align-items:center;
  padding:3px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 900;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  margin-left: 8px;
}
.badge.soon{
  border-color: rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: rgba(251,113,133,.95);
}
.row-actions{ display:flex; gap: 8px; justify-content:flex-end; flex-wrap:wrap; }
.row-actions .btn{ width:auto; padding:10px 12px; border-radius:14px; }

.toggle-row{
  display:flex; align-items:center; gap:10px;
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}

/* =========================
   DEV ONLY: Reset Session
========================= */
.dev-reset{
  position: fixed;
  bottom: 14px;
  left: 14px;
  z-index: 9999;

  padding: 8px 12px;
  border-radius: 10px;
  border: 1px dashed rgba(255,255,255,.35);

  background: rgba(0,0,0,.55);
  color: rgba(255,255,255,.75);
  font-size: 12px;
  font-weight: 700;

  cursor: pointer;
  opacity: .45;
}
.dev-reset:hover{
  opacity: 1;
  border-color: rgba(122,162,255,.75);
  color: #fff;
}

/* Responsive */
@media (max-width: 980px){
  .hero{ grid-template-columns: 1fr; }
  .headline{ font-size: 36px; }
  .admin-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 560px){
  .grid2{ grid-template-columns: 1fr; }
  .headline{ font-size: 32px; }
  .admin-row2{ grid-template-columns: 1fr; }
  .tier-row{ grid-template-columns: 1fr; }
}

/* =========================
   INVENTORY
========================= */
.inv-wrap{ margin-top: 24px; }
.inv-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.inv-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.inv-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.inv-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.inv-small{ padding:10px 12px; border-radius:14px; width:auto; }

.inv-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
  align-items: stretch;
}

.inv-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.inv-card.is-soon{ opacity: .72; }

.inv-thumb{
  height: 160px;
  border-bottom:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  display:flex; align-items:center; justify-content:center;
}
.inv-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
.inv-ph{ font-size: 40px; opacity: .75; }

.inv-body{ padding: 14px; display:flex; flex-direction:column; gap:10px; }
.inv-topline{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.inv-name{ font-weight: 950; font-size: 16px; line-height:1.2; }
.inv-badge{
  display:inline-flex; align-items:center;
  padding:3px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 900;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  white-space:nowrap;
}
.inv-badge.soon{
  border-color: rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: rgba(251,113,133,.95);
}

.inv-desc{
  color: var(--muted);
  font-size: 13px;
  line-height: 1.45;
  min-height: 40px;
}

.inv-meta{
  display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
  padding-top: 8px;
  border-top: 1px solid rgba(255,255,255,.08);
}
.inv-meta-line{ color: var(--muted); font-size: 12px; }
.inv-meta-line strong{ color: var(--text); }

.inv-controls{
  margin-top:auto;
  display:grid;
  grid-template-columns: auto 1fr auto;
  gap: 8px;
  align-items:center;
}

/* Smaller qty controls for (-X)/(+X) */
.inv-controls .inv-btn{
  width:auto;
  min-width: 52px;
  height: 36px;
  padding: 0 10px;
  font-size: 12px;
  border-radius: 12px;
}
.inv-controls .inv-qty{
  height: 36px;
  padding: 8px 10px;
  border-radius: 12px;
  font-size: 14px;
}
.inv-btn{
  width:44px; height:44px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  color: var(--text);
  font-weight: 950;
  font-size: 20px;
  cursor:pointer;
}
.inv-btn:hover{ border-color: rgba(122,162,255,.55); background: rgba(122,162,255,.10); }
.inv-btn:disabled{ opacity:.55; cursor:not-allowed; }

.inv-qty{
  width:100%;
  height:44px;
  padding: 10px 12px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.20);
  color: var(--text);
  font-weight: 900;
  text-align:center;
  outline:none;
}
.inv-qty:focus{
  border-color: rgba(122,162,255,.55);
  box-shadow: 0 0 0 3px rgba(122,162,255,.12);
}
.inv-maxhint{
  grid-column: 1 / -1;
  color: var(--muted);
  font-size: 12px;
  margin-top: -4px;
}

.inv-footer{
  margin-top: 14px;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.inv-summary{ color: var(--muted); font-size: 13px; }

.inv-empty{
  grid-column: 1 / -1;
  padding: 18px;
  border-radius: var(--radius);
  border:1px dashed rgba(255,255,255,.18);
  background: rgba(0,0,0,.18);
}
.inv-empty-title{ font-weight: 950; }
.inv-empty-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }

@media (max-width: 980px){
  .inv-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px){
  .inv-grid{ grid-template-columns: 1fr; }
}


/* Inventory layout with summary sidebar */
.inv-layout{
  display:grid;
  grid-template-columns: 1fr 340px;
  gap: 14px;
  align-items:start;
}

.inv-cats{grid-column:1;}
.inv-grid{grid-column:1;}
.inv-side{grid-column:2;grid-row:1 / span 2;}

.inv-side{
  position: sticky;
  top: 92px; /* below topbar */
}

.inv-side-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}

.inv-side-title{ font-weight: 950; font-size: 16px; }
.inv-side-sub{ color: var(--muted); font-size: 12px; margin-top: 6px; line-height:1.4; }

.inv-side-lines{
  margin-top: 12px;
  display:grid;
  gap: 10px;
}

.inv-line{
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.inv-line-top{
  display:flex;
  justify-content:space-between;
  gap: 10px;
  align-items:flex-start;
}
.inv-line-name{ font-weight: 900; font-size: 13px; line-height:1.2; }
.inv-line-qty{ color: var(--muted); font-size: 12px; margin-top: 3px; }
.inv-line-price{
  text-align:right;
  font-weight: 950;
  font-size: 13px;
}
.inv-line-unit{
  text-align:right;
  color: var(--muted);
  font-size: 11px;
  margin-top: 3px;
}

.inv-side-total{
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid rgba(255,255,255,.10);
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap: 10px;
}
.inv-side-total-label{ color: var(--muted); font-size: 12px; font-weight: 800; }
.inv-side-total-value{ font-weight: 980; font-size: 18px; letter-spacing: -.2px; }

.inv-side-note{
  margin-top: 10px;
  color: var(--muted);
  font-size: 12px;
  line-height: 1.4;
  opacity: .9;
}

/* Member pricing upsell block (used inside the page-level summaries) */
.inv-member{
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid rgba(255,255,255,.10);
}
.inv-member-row{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:10px;
}
.inv-member-label{ color: var(--muted); font-size: 12px; font-weight: 850; }
.inv-member-value{ font-weight: 980; font-size: 16px; letter-spacing: -.2px; }
.inv-member-save{
  margin-top: 8px;
  color: rgba(255,255,255,.86);
  font-size: 12px;
  line-height: 1.35;
}

/* Shared side-by-side layout for step pages (Calendar / Address) */
.step-layout{
  display:flex;
  align-items:flex-start;
  gap:18px;
}
.step-layout > :first-child{
  flex: 1 1 auto;
  min-width: 0;
}
.step-layout .inv-side{
  width: 340px;
  position: sticky;
  top: 92px;
}
@media (max-width: 980px){
  .step-layout{ flex-direction: column; }
  .step-layout .inv-side{ width:auto; position: static; }
}

@media (max-width: 980px){
  .inv-layout{ grid-template-columns: 1fr; }
  .inv-side{ position: static; }
}


/* =========================
   CALENDAR
========================= */
.cal-wrap{ margin-top: 24px; }
.cal-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.cal-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.cal-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.cal-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.cal-small{ padding:10px 12px; border-radius:14px; width:auto; }

.cal-shell{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  overflow:hidden;
}
.cal-topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding: 12px 12px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.12);
}
.cal-month{ font-weight: 950; letter-spacing: -.2px; }
.cal-nav{
  width:42px; height:42px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  color: var(--text);
  font-weight: 950;
  font-size: 22px;
  cursor:pointer;
}
.cal-nav:hover{ border-color: rgba(122,162,255,.55); background: rgba(122,162,255,.10); }

.cal-weekdays{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 0;
  padding: 10px 12px 0;
  color: var(--muted);
  font-size: 12px;
  font-weight: 800;
}
.cal-weekdays div{ padding: 6px 6px; }

.cal-grid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  padding: 12px;
}
.cal-day{
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  padding: 10px;
  min-height: 86px;
  cursor:pointer;
  transition: border-color .15s ease, background .15s ease, transform .06s ease;
  position: relative;
  overflow: visible;
}
.cal-day:hover{ border-color: rgba(122,162,255,.45); background: rgba(122,162,255,.06); z-index: 5; }
.cal-day:active{ transform: translateY(1px); }
.cal-day.is-out{ opacity: .45; }
.cal-day.is-selected{
  border-color: rgba(134,239,172,.55);
  background: rgba(134,239,172,.08);
}
.cal-day-top{
  display:flex; justify-content:space-between; align-items:flex-start;
  gap: 8px;
}
.cal-num{ font-weight: 950; }
.cal-badges{ display:flex; gap: 6px; flex-wrap:wrap; justify-content:flex-end; }
.cal-badge{
  font-size: 11px;
  font-weight: 900;
  padding: 2px 7px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
}
.cal-badge.low{
  border-color: rgba(251,191,36,.35);
  background: rgba(251,191,36,.10);
  color: rgba(251,191,36,.92);
}
.cal-badge.zero{
  border-color: rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: rgba(251,113,133,.95);
}

.cal-tip-icon{ font-size:13px; opacity:.7; }
.cal-day:hover .cal-tip-icon{ opacity:1; }

.cal-tooltip{
  position:absolute;
  left:10px;
  top:54px;
  min-width: 220px;
  max-width: 320px;
  background: rgb(10,10,18);
  border:1px solid rgba(255,255,255,.14);
  border-radius: 14px;
  padding: 10px;
  box-shadow: 0 16px 40px rgba(0,0,0,.45);
  display:none;
  pointer-events:none;
  z-index: 60;
}

.cal-day:hover .cal-tooltip{ /* handled by JS */ }

.cal-tip-title{
  font-weight:700;
  font-size:13px;
  margin-bottom:6px;
}

.cal-tip-row{
  display:flex;
  justify-content:space-between;
  gap:12px;
  font-size:12px;
  opacity:.92;
  padding:4px 0;
  border-top:1px solid rgba(255,255,255,.06);
}

.cal-tip-row:first-of-type{ border-top:0; }
.cal-tip-row.low{ opacity:1; color: rgba(251,191,36,.95); }
.ct-name{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 190px; }
.ct-val{ white-space:nowrap; opacity:.9; }
.cal-footnote{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  color: var(--muted);
  font-size: 13px;
}


/* =========================
   FLOWBAR (steps + summary)
========================= */
.flowbar{
  position: sticky;
  top: 0;
  z-index: 30;
  display:flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px 12px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  background: rgba(10,12,18,.72);
  backdrop-filter: blur(14px);
}

.flowbar-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

.flowbar-right{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 10px;
  flex-wrap: nowrap;
  overflow-x: auto;
  scrollbar-width: none;
}
.flowbar-right::-webkit-scrollbar{ display:none; }

/* Tighten topbar buttons a bit to reduce header height */
.topbar-btn{ padding: 6px 10px; font-size: 12px; }

.flowbar-bottom{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

.flowsteps{
  display:flex;
  gap: 8px;
  align-items:center;
  flex-wrap:wrap;
}

.flowstep{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  font-weight: 900;
  font-size: 12px;
  cursor:pointer;
  user-select:none;
}
.flowstep .dot{
  width: 8px; height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.22);
  box-shadow: 0 0 0 3px rgba(255,255,255,.06);
}
.flowstep:hover{
  border-color: rgba(122,162,255,.45);
  background: rgba(122,162,255,.10);
  color: var(--text);
}

.flowstep:disabled{
  opacity: 0.45;
  cursor: not-allowed;
  border-color: rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}
.flowstep.active{
  color: #fff;
  border-color: rgba(255,255,255,.35);
  background: rgba(255,255,255,.12);
}
.flowstep.active .dot{
  background: rgba(255,255,255,.92);
  box-shadow: 0 0 0 4px rgba(255,255,255,.10);
}

.flowsummary{
  min-width: 280px;
  max-width: 360px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  border-radius: 16px;
  padding: 10px 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.22);
}
.flowsummary-title{ font-weight: 950; font-size: 12px; letter-spacing: .2px; }
.flowsummary-lines{ color: var(--muted); font-size: 12px; margin-top: 6px; line-height: 1.35; }
.flowsummary-meta{
  margin-top: 8px;
  display:flex;
  justify-content:space-between;
  gap: 10px;
  font-size: 12px;
  color: var(--muted);
}
.flowsummary-total{ font-weight: 950; color: var(--text); }

@media (max-width: 980px){
  .flowbar{ position: static; }
  .flowbar-bottom{ flex-direction: column; }
  .flowsummary{ max-width: none; width: 100%; }
  .flowbar-right{ flex-wrap: wrap; overflow-x: visible; }
}

/* Hide flowbar on admin page */
body.is-admin 
/* =========================
   ADDRESS
========================= */
.addr-wrap{ margin-top: 24px; }
.addr-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.addr-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.addr-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.addr-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.addr-small{ padding:10px 12px; border-radius:14px; width:auto; }

.addr-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}
.addr-grid{ display:grid; gap: 12px; }
.addr-row{
  display:grid;
  grid-template-columns: 1fr 120px 140px;
  gap: 12px;
}
.addr-footnote{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  color: var(--muted);
  font-size: 13px;
}
@media (max-width: 700px){
  .addr-row{ grid-template-columns: 1fr; }
}

/* =========================
   REVIEW
========================= */
.rev-wrap{ margin-top: 24px; }
.rev-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.rev-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.rev-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.rev-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.rev-small{ padding:10px 12px; border-radius:14px; width:auto; }

.rev-layout{
  display:grid;
  grid-template-columns: 1fr 340px;
  gap: 14px;
  align-items:start;
}
.rev-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}
.rev-side{ position: sticky; top: 92px; }
.rev-side-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}
.rev-section-title{ font-weight: 950; font-size: 13px; margin-bottom: 8px; }
.rev-items{ display:grid; gap: 10px; }
.rev-item{
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  display:flex; justify-content:space-between; gap: 10px;
}
.rev-item-name{ font-weight: 900; }
.rev-item-meta{ color: var(--muted); font-size: 12px; margin-top: 3px; }
.rev-item-price{ text-align:right; font-weight: 950; }
.rev-text{ color: var(--text); }
.rev-divider{ height:1px; background: rgba(255,255,255,.10); margin: 14px 0; }
.rev-side-title{ font-weight: 950; }
.rev-side-total{ font-size: 22px; font-weight: 980; margin-top: 6px; }
.rev-side-note{ color: var(--muted); font-size: 12px; line-height:1.4; margin-top: 8px; }
.rev-coupon{ margin-top: 14px; }
.rev-coupon-row{ display:flex; gap: 8px; align-items:center; }
@media (max-width: 980px){
  .rev-layout{ grid-template-columns: 1fr; }
  .rev-side{ position: static; }
}

.inv-addmore{
  grid-column: 1 / -1;
  color: rgba(255,255,255,.86);
  font-size: 12px;
  font-weight: 800;
  margin-top: -2px;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.12);
}
.inv-addmore .muted{ color: var(--muted); font-weight: 800; }


/* INV-COLLAPSE + CAL-ANNUAL inserted by v3_5 */
:root{
  --bg:#070b16;
  --line: rgba(255,255,255,.10);
  --text:#eaf0ff;
  --muted:#aab6e8;
  --shadow: 0 18px 50px rgba(0,0,0,.45);
  --radius: 22px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background: var(--bg);
  overflow-x:hidden;
}

/* Background */
.bg{position:fixed; inset:0; z-index:-2; pointer-events:none}
.orb{position:absolute; filter: blur(30px); opacity:.55; border-radius:999px;}
.orb-a{ width:520px; height:520px; left:-160px; top:-120px; background: radial-gradient(circle at 30% 30%, rgba(122,162,255,.9), transparent 60%); }
.orb-b{ width:520px; height:520px; right:-160px; top:-140px; background: radial-gradient(circle at 65% 35%, rgba(134,239,172,.7), transparent 62%); }
.orb-c{ width:520px; height:520px; left:10%; bottom:-260px; background: radial-gradient(circle at 40% 40%, rgba(251,191,36,.35), transparent 60%); }
.grid-overlay{
  position:absolute; inset:0;
  background:
    linear-gradient(to right, rgba(255,255,255,.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,.04) 1px, transparent 1px);
  background-size: 52px 52px;
  mask-image: radial-gradient(circle at 50% 30%, black 25%, transparent 70%);
  opacity:.35;
}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 18px;
  background: rgba(7,11,22,.65);
  backdrop-filter: blur(12px);
  border-bottom:1px solid var(--line);
}
.brand{display:flex; align-items:center; gap:12px}
.logo{
  width:42px; height:42px;
  display:flex; align-items:center; justify-content:center;
  border-radius:16px;
  background: linear-gradient(135deg, rgba(122,162,255,.9), rgba(134,239,172,.55));
  color:#071022; font-weight:900;
}
.brand-title{font-weight:900}
.brand-subtitle{font-size:12px; color:var(--muted)}

.status-pill{
  display:flex; align-items:center; gap:10px;
  padding:9px 12px;
  border-radius:999px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  color: var(--muted);
  font-size:13px;
}
.status-dot{
  width:9px; height:9px; border-radius:999px;
  background: rgba(255,255,255,.35);
  box-shadow: 0 0 0 3px rgba(255,255,255,.08);
}

.wrap{max-width:1120px; margin:0 auto; padding:26px 18px 40px}
.hidden{display:none !important}

/* Landing hero */
.hero{
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap:18px;
  align-items:start;
}
.kicker{
  display:inline-flex; align-items:center;
  padding:7px 12px;
  border-radius:999px;
  border:1px solid rgba(122,162,255,.35);
  background: rgba(122,162,255,.10);
  color: var(--muted);
  font-size:13px;
  font-weight:650;
}
.headline{
  margin:14px 0 10px 0;
  font-size:42px;
  line-height:1.04;
  letter-spacing:-.6px;
}
.subhead{
  margin:0;
  color:var(--muted);
  font-size:16px;
  line-height:1.55;
  max-width:54ch;
}

/* non-clicky highlights */
.feature-row{ margin-top:20px; display:grid; gap:10px; max-width:56ch; }
.feature-line{
  display:flex; align-items:flex-start; gap:10px;
  padding:8px 0;
  border-top: 1px solid rgba(255,255,255,.06);
}
.feature-line:first-child{border-top:none}
.feature-bullet{
  width:28px; height:28px;
  flex: 0 0 28px;
  display:flex; align-items:center; justify-content:center;
  border-radius: 10px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  opacity:.9;
}
.feature-text{ line-height:1.35 }
.muted-inline{ color: var(--muted); font-weight:550; }

.mini-note{
  margin-top:18px;
  display:flex; align-items:center; gap:10px;
  padding:10px 12px;
  border-radius: 16px;
  border:1px dashed rgba(134,239,172,.35);
  background: rgba(134,239,172,.06);
  width: fit-content;
}
.mini-badge{
  font-size:12px;
  padding:3px 9px;
  border-radius:999px;
  border:1px solid rgba(134,239,172,.35);
  color: rgba(134,239,172,.95);
}
.mini-text{ color: var(--muted); font-size:13px; }

/* Card */
.card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card-head{
  padding:16px 16px 10px 16px;
  border-bottom:1px solid var(--line);
  display:flex; gap:12px;
  justify-content:space-between; align-items:flex-start;
  flex-wrap:wrap;
}
.card-title{font-weight:900; font-size:18px}
.card-sub{color:var(--muted); font-size:13px; margin-top:4px}
.card-body{padding:16px}

.steps{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end}
.step{
  display:flex; align-items:center; gap:8px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  color: var(--muted);
  padding:6px 9px;
  border-radius: 999px;
  font-size:12px;
}
.step .dot{
  width:9px; height:9px; border-radius:999px;
  background: rgba(255,255,255,.22);
}
.step.active{
  border-color: rgba(122,162,255,.45);
  color: var(--text);
}
.step.active .dot{ background: rgba(122,162,255,.85); }

.section-title{ font-weight:900; margin-bottom:10px; }

label{
  display:block;
  font-size:13px;
  color: var(--muted);
  margin:8px 0 6px;
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

.input{
  width:100%;
  padding:12px 12px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.20);
  color: var(--text);
  outline:none;
}
.input:focus{
  border-color: rgba(122,162,255,.55);
  box-shadow: 0 0 0 3px rgba(122,162,255,.12);
}
.textarea{ resize: vertical; }

.btn{
  width:100%;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.05);
  color: var(--text);
  padding:12px 14px;
  border-radius: 16px;
  font-weight:800;
  cursor:pointer;
  transition: transform .06s ease, border-color .15s ease, background .15s ease;
}
.btn:hover{ border-color: rgba(122,162,255,.55); background: rgba(122,162,255,.10); }
.btn:active{ transform: translateY(1px); }
.btn:disabled{ opacity:.55; cursor:not-allowed; }

.btn-primary{ background: rgba(122,162,255,.18); }
.btn-good{ background: rgba(134,239,172,.14); }
.btn-good:hover{ border-color: rgba(134,239,172,.55); background: rgba(134,239,172,.18); }
.btn-ghost{ background: rgba(0,0,0,.14); }
.btn-ghost:hover{ border-color: rgba(255,255,255,.22); background: rgba(255,255,255,.05); }

.btn-icon{
  display:inline-flex;
  width:26px; height:26px;
  margin-right:10px;
  border-radius:10px;
  align-items:center; justify-content:center;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
}

.divider{
  display:flex; align-items:center; gap:12px;
  margin:14px 0;
}
.divider::before, .divider::after{
  content:"";
  height:1px;
  flex:1;
  background: rgba(255,255,255,.10);
}
.divider span{ color: var(--muted); font-size:12px; }

.guest-panel{
  margin-top:10px;
  padding:12px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  display:none;
}
.guest-panel.open{ display:block; }

.helper{ margin-top:8px; font-size:12px; min-height:16px; }
.helper.subtle{ color: var(--muted); }

.chev{ float:right; opacity:.7; }

/* =========================
   ADMIN UI
========================= */
.admin-wrap{ margin-top: 24px; }
.admin-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.admin-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.admin-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.admin-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.admin-small{ padding:10px 12px; border-radius:14px; width:auto; }

.admin-tabs{
  display:flex; gap:10px; flex-wrap:wrap;
  margin: 10px 0 16px;
}
.admin-tab{
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  color: var(--muted);
  padding:10px 12px;
  border-radius: 999px;
  cursor:pointer;
  font-weight: 850;
}
.admin-tab.active{
  color: var(--text);
  border-color: rgba(122,162,255,.45);
  background: rgba(122,162,255,.10);
}

.admin-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  align-items:start;
}
.admin-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 16px;
}
.admin-card-title{ font-weight: 950; font-size: 16px; margin-bottom: 10px; }
.admin-card-subtitle{ margin-top: 10px; margin-bottom: 8px; color: var(--muted); font-size: 12px; font-weight: 800; }

.admin-row2{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.admin-row3{ display:flex; gap: 10px; margin-top: 12px; flex-wrap:wrap; }
.admin-field{ margin-top: 8px; }

.tiers-wrap{ display:grid; gap: 10px; }
.tier-row{
  display:grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 10px;
  align-items:end;
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.tier-remove{ width:auto; padding:10px 12px; border-radius:14px; }

.admin-list{ display:grid; gap: 10px; margin-top: 8px; }

.item-row{
  display:grid;
  grid-template-columns: 52px 1fr auto;
  gap: 12px;
  align-items:center;
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.thumb{
  width:52px; height:52px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
}
.thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
.item-title{ font-weight: 950; }
.item-sub{ color: var(--muted); font-size: 12px; margin-top: 3px; line-height: 1.35; }
.badge{
  display:inline-flex; align-items:center;
  padding:3px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 900;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  margin-left: 8px;
}
.badge.soon{
  border-color: rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: rgba(251,113,133,.95);
}
.row-actions{ display:flex; gap: 8px; justify-content:flex-end; flex-wrap:wrap; }
.row-actions .btn{ width:auto; padding:10px 12px; border-radius:14px; }

.toggle-row{
  display:flex; align-items:center; gap:10px;
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}

/* =========================
   DEV ONLY: Reset Session
========================= */
.dev-reset{
  position: fixed;
  bottom: 14px;
  left: 14px;
  z-index: 9999;

  padding: 8px 12px;
  border-radius: 10px;
  border: 1px dashed rgba(255,255,255,.35);

  background: rgba(0,0,0,.55);
  color: rgba(255,255,255,.75);
  font-size: 12px;
  font-weight: 700;

  cursor: pointer;
  opacity: .45;
}
.dev-reset:hover{
  opacity: 1;
  border-color: rgba(122,162,255,.75);
  color: #fff;
}

/* Responsive */
@media (max-width: 980px){
  .hero{ grid-template-columns: 1fr; }
  .headline{ font-size: 36px; }
  .admin-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 560px){
  .grid2{ grid-template-columns: 1fr; }
  .headline{ font-size: 32px; }
  .admin-row2{ grid-template-columns: 1fr; }
  .tier-row{ grid-template-columns: 1fr; }
}

/* =========================
   INVENTORY
========================= */
.inv-wrap{ margin-top: 24px; }
.inv-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.inv-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.inv-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.inv-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.inv-small{ padding:10px 12px; border-radius:14px; width:auto; }

.inv-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
  align-items: stretch;
}

.inv-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.inv-card.is-soon{ opacity: .72; }

.inv-thumb{
  height: 160px;
  border-bottom:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  display:flex; align-items:center; justify-content:center;
}
.inv-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
.inv-ph{ font-size: 40px; opacity: .75; }

.inv-body{ padding: 14px; display:flex; flex-direction:column; gap:10px; }
.inv-topline{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.inv-name{ font-weight: 950; font-size: 16px; line-height:1.2; }
.inv-badge{
  display:inline-flex; align-items:center;
  padding:3px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 900;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  white-space:nowrap;
}
.inv-badge.soon{
  border-color: rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: rgba(251,113,133,.95);
}

.inv-desc{
  color: var(--muted);
  font-size: 13px;
  line-height: 1.45;
  min-height: 40px;
}

.inv-meta{
  display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
  padding-top: 8px;
  border-top: 1px solid rgba(255,255,255,.08);
}
.inv-meta-line{ color: var(--muted); font-size: 12px; }
.inv-meta-line strong{ color: var(--text); }

.inv-controls{
  margin-top:auto;
  display:grid;
  grid-template-columns: auto 1fr auto;
  gap: 8px;
  align-items:center;
}

/* Smaller qty controls for (-X)/(+X) */
.inv-controls .inv-btn{
  width:auto;
  min-width: 52px;
  height: 36px;
  padding: 0 10px;
  font-size: 12px;
  border-radius: 12px;
}
.inv-controls .inv-qty{
  height: 36px;
  padding: 8px 10px;
  border-radius: 12px;
  font-size: 14px;
}
.inv-btn{
  width:44px; height:44px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  color: var(--text);
  font-weight: 950;
  font-size: 20px;
  cursor:pointer;
}
.inv-btn:hover{ border-color: rgba(122,162,255,.55); background: rgba(122,162,255,.10); }
.inv-btn:disabled{ opacity:.55; cursor:not-allowed; }

.inv-qty{
  width:100%;
  height:44px;
  padding: 10px 12px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.20);
  color: var(--text);
  font-weight: 900;
  text-align:center;
  outline:none;
}
.inv-qty:focus{
  border-color: rgba(122,162,255,.55);
  box-shadow: 0 0 0 3px rgba(122,162,255,.12);
}
.inv-maxhint{
  grid-column: 1 / -1;
  color: var(--muted);
  font-size: 12px;
  margin-top: -4px;
}

.inv-footer{
  margin-top: 14px;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.inv-summary{ color: var(--muted); font-size: 13px; }

.inv-empty{
  grid-column: 1 / -1;
  padding: 18px;
  border-radius: var(--radius);
  border:1px dashed rgba(255,255,255,.18);
  background: rgba(0,0,0,.18);
}
.inv-empty-title{ font-weight: 950; }
.inv-empty-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }

@media (max-width: 980px){
  .inv-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px){
  .inv-grid{ grid-template-columns: 1fr; }
}


/* Inventory layout with summary sidebar */
.inv-layout{
  display:grid;
  grid-template-columns: 1fr 340px;
  gap: 14px;
  align-items:start;
}

.inv-side{
  position: sticky;
  top: 92px; /* below topbar */
}

.inv-side-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}

.inv-side-title{ font-weight: 950; font-size: 16px; }
.inv-side-sub{ color: var(--muted); font-size: 12px; margin-top: 6px; line-height:1.4; }

.inv-side-lines{
  margin-top: 12px;
  display:grid;
  gap: 10px;
}

.inv-line{
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.inv-line-top{
  display:flex;
  justify-content:space-between;
  gap: 10px;
  align-items:flex-start;
}
.inv-line-name{ font-weight: 900; font-size: 13px; line-height:1.2; }
.inv-line-qty{ color: var(--muted); font-size: 12px; margin-top: 3px; }
.inv-line-price{
  text-align:right;
  font-weight: 950;
  font-size: 13px;
}
.inv-line-unit{
  text-align:right;
  color: var(--muted);
  font-size: 11px;
  margin-top: 3px;
}

.inv-side-total{
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid rgba(255,255,255,.10);
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap: 10px;
}
.inv-side-total-label{ color: var(--muted); font-size: 12px; font-weight: 800; }
.inv-side-total-value{ font-weight: 980; font-size: 18px; letter-spacing: -.2px; }

.inv-side-note{
  margin-top: 10px;
  color: var(--muted);
  font-size: 12px;
  line-height: 1.4;
  opacity: .9;
}

@media (max-width: 980px){
  .inv-layout{ grid-template-columns: 1fr; }
  .inv-side{ position: static; }
}


/* =========================
   CALENDAR
========================= */
.cal-wrap{ margin-top: 24px; }
.cal-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.cal-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.cal-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.cal-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.cal-small{ padding:10px 12px; border-radius:14px; width:auto; }

.cal-shell{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  overflow:hidden;
}
.cal-topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding: 12px 12px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.12);
}
.cal-month{ font-weight: 950; letter-spacing: -.2px; }
.cal-nav{
  width:42px; height:42px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  color: var(--text);
  font-weight: 950;
  font-size: 22px;
  cursor:pointer;
}
.cal-nav:hover{ border-color: rgba(122,162,255,.55); background: rgba(122,162,255,.10); }

.cal-weekdays{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 0;
  padding: 10px 12px 0;
  color: var(--muted);
  font-size: 12px;
  font-weight: 800;
}
.cal-weekdays div{ padding: 6px 6px; }

.cal-grid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  padding: 12px;
}
.cal-day{
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  padding: 10px;
  min-height: 86px;
  cursor:pointer;
  transition: border-color .15s ease, background .15s ease, transform .06s ease;
  position: relative;
  overflow: visible;
}
.cal-day:hover{ border-color: rgba(122,162,255,.45); background: rgba(122,162,255,.06); z-index: 5; }
.cal-day:active{ transform: translateY(1px); }
.cal-day.is-out{ opacity: .45; }
.cal-day.is-selected{
  border-color: rgba(134,239,172,.55);
  background: rgba(134,239,172,.08);
}
.cal-day-top{
  display:flex; justify-content:space-between; align-items:flex-start;
  gap: 8px;
}
.cal-num{ font-weight: 950; }
.cal-badges{ display:flex; gap: 6px; flex-wrap:wrap; justify-content:flex-end; }
.cal-badge{
  font-size: 11px;
  font-weight: 900;
  padding: 2px 7px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
}
.cal-badge.low{
  border-color: rgba(251,191,36,.35);
  background: rgba(251,191,36,.10);
  color: rgba(251,191,36,.92);
}
.cal-badge.zero{
  border-color: rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: rgba(251,113,133,.95);
}
.cal-footnote{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  color: var(--muted);
  font-size: 13px;
}


/* =========================
   FLOWBAR (steps + summary)
========================= */
.flowbar{
  position: sticky;
  top: 0;
  z-index: 30;
  display:flex;
  align-items:stretch;
  justify-content:space-between;
  gap: 12px;
  padding: 10px 14px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  background: rgba(10,12,18,.72);
  backdrop-filter: blur(14px);
}

.flowsteps{
  display:flex;
  gap: 8px;
  align-items:center;
  flex-wrap:wrap;
}

.flowstep{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  font-weight: 900;
  font-size: 12px;
  cursor:pointer;
  user-select:none;
}
.flowstep .dot{
  width: 8px; height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.22);
  box-shadow: 0 0 0 3px rgba(255,255,255,.06);
}
.flowstep:hover{
  border-color: rgba(122,162,255,.45);
  background: rgba(122,162,255,.10);
  color: var(--text);
}
.flowstep.active{
  color: #fff;
  border-color: rgba(255,255,255,.35);
  background: rgba(255,255,255,.12);
}
.flowstep.active .dot{
  background: rgba(255,255,255,.92);
  box-shadow: 0 0 0 4px rgba(255,255,255,.10);
}

.flowsummary{
  min-width: 280px;
  max-width: 360px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  border-radius: 16px;
  padding: 10px 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.22);
}
.flowsummary-title{ font-weight: 950; font-size: 12px; letter-spacing: .2px; }
.flowsummary-lines{ color: var(--muted); font-size: 12px; margin-top: 6px; line-height: 1.35; }
.flowsummary-meta{
  margin-top: 8px;
  display:flex;
  justify-content:space-between;
  gap: 10px;
  font-size: 12px;
  color: var(--muted);
}
.flowsummary-total{ font-weight: 950; color: var(--text); }

@media (max-width: 980px){
  .flowbar{ position: static; flex-direction:column; }
  .flowsummary{ max-width: none; width: 100%; }
}

/* Hide flowbar on admin page */
body.is-admin 
/* =========================
   ADDRESS
========================= */
.addr-wrap{ margin-top: 24px; }
.addr-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.addr-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.addr-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.addr-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.addr-small{ padding:10px 12px; border-radius:14px; width:auto; }

.addr-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}
.addr-grid{ display:grid; gap: 12px; }
.addr-row{
  display:grid;
  grid-template-columns: 1fr 120px 140px;
  gap: 12px;
}
.addr-footnote{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  color: var(--muted);
  font-size: 13px;
}
@media (max-width: 700px){
  .addr-row{ grid-template-columns: 1fr; }
}

/* =========================
   REVIEW
========================= */
.rev-wrap{ margin-top: 24px; }
.rev-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.rev-title{ font-size: 26px; font-weight: 950; letter-spacing: -.2px; }
.rev-sub{ color: var(--muted); font-size: 13px; margin-top: 4px; }
.rev-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.rev-small{ padding:10px 12px; border-radius:14px; width:auto; }

.rev-layout{
  display:grid;
  grid-template-columns: 1fr 340px;
  gap: 14px;
  align-items:start;
}
.rev-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}
.rev-side{ position: sticky; top: 92px; }
.rev-side-card{
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--shadow);
  padding: 14px;
}
.rev-section-title{ font-weight: 950; font-size: 13px; margin-bottom: 8px; }
.rev-items{ display:grid; gap: 10px; }
.rev-item{
  padding: 10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  display:flex; justify-content:space-between; gap: 10px;
}
.rev-item-name{ font-weight: 900; }
.rev-item-meta{ color: var(--muted); font-size: 12px; margin-top: 3px; }
.rev-item-price{ text-align:right; font-weight: 950; }
.rev-text{ color: var(--text); }
.rev-divider{ height:1px; background: rgba(255,255,255,.10); margin: 14px 0; }
.rev-side-title{ font-weight: 950; }
.rev-side-total{ font-size: 22px; font-weight: 980; margin-top: 6px; }
.rev-side-note{ color: var(--muted); font-size: 12px; line-height:1.4; margin-top: 8px; }
.rev-coupon{ margin-top: 14px; }
.rev-coupon-row{ display:flex; gap: 8px; align-items:center; }
@media (max-width: 980px){
  .rev-layout{ grid-template-columns: 1fr; }
  .rev-side{ position: static; }
}

.inv-addmore{
  grid-column: 1 / -1;
  color: rgba(255,255,255,.86);
  font-size: 12px;
  font-weight: 800;
  margin-top: -2px;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.12);
}
.inv-addmore .muted{ color: var(--muted); font-weight: 800; }


/* =========================
   INVENTORY SELECT-FIRST UI
========================= */
.inv-card{ position: relative; }
.inv-card:not(.is-open) .inv-desc,
.inv-card:not(.is-open) .inv-meta,
.inv-card:not(.is-open) .inv-controls{ display:none; }
.inv-card.is-open .inv-desc,
.inv-card.is-open .inv-meta,
.inv-card.is-open .inv-controls{ display:block; }

.inv-thumb{ position: relative; cursor:pointer; }
.inv-card.is-selected .inv-thumb{
  outline: 2px solid rgba(134,239,172,.55);
  outline-offset: -2px;
}
.inv-check{
  position:absolute; right:10px; top:10px;
  width:34px; height:34px; border-radius:999px;
  display:flex; align-items:center; justify-content:center;
  border:1px solid rgba(134,239,172,.55);
  background: rgba(134,239,172,.18);
  color: rgba(134,239,172,.98);
  font-weight:1000; font-size:18px;
  box-shadow: 0 14px 30px rgba(0,0,0,.25);
}
.inv-card:not(.is-selected) .inv-check{ display:none; }

.inv-addmore{
  display:flex; align-items:center; gap:10px;
  margin-top:10px; padding:10px 12px;
  border-radius:16px;
  border:1px solid rgba(251,191,36,.35);
  background: linear-gradient(180deg, rgba(251,191,36,.18), rgba(251,191,36,.08));
  box-shadow: 0 10px 26px rgba(0,0,0,.25);
}
.inv-addmore .bang{
  width:28px; height:28px; border-radius:999px;
  display:flex; align-items:center; justify-content:center;
  border:1px solid rgba(251,191,36,.45);
  background: rgba(251,191,36,.18);
  font-weight:1000;
}

/* =========================
   CALENDAR ANNUAL OPTION
========================= */
.cal-annual{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.cal-annual-toggle{
  display:flex; align-items:center; gap:10px;
  font-weight:900;
}
.cal-annual-body{ margin-top:10px; }
.cal-annual-savings{
  padding:10px 12px; border-radius:14px;
  border:1px solid rgba(134,239,172,.35);
  background: rgba(134,239,172,.10);
  font-weight:900;
}
.cal-annual-dates{ margin-top:10px; display:grid; gap:8px; }
.cal-annual-chip{
  padding:10px 12px; border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  display:flex; justify-content:space-between; gap:10px;
  font-size:12px;
}
.cal-day.is-disabled{ opacity:.28; cursor:not-allowed; }

.cal-day.is-today{
  border-color: rgba(122,162,255,.65);
  background: rgba(122,162,255,.12);
}


/* CAL-TODAY highlight */
.cal-day.is-today{
  border-color: rgba(134,239,172,.55) !important;
  box-shadow: 0 0 0 2px rgba(134,239,172,.18), 0 18px 40px rgba(0,0,0,.25);
  position: relative;
}
.cal-day.is-today::after{
  content: "Today";
  position: absolute;
  bottom: 8px;
  left: 10px;
  font-size: 10px;
  font-weight: 900;
  letter-spacing: .02em;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(134,239,172,.35);
  background: rgba(134,239,172,.10);
}

/* Make annual offer more visible */
.cal-annual{
  border-color: rgba(251,191,36,.22);
  background: linear-gradient(180deg, rgba(251,191,36,.12), rgba(0,0,0,.12));
}
.cal-annual-toggle span{
  line-height: 1.2;
}


/* =========================
   ANNUAL MODE (INLINE PICKERS)
========================= */
.cal-shell.annual-on .cal-topbar,
.cal-shell.annual-on #calWeekdays,
.cal-shell.annual-on #calGrid{
  display:none;
}
.cal-shell.annual-on .cal-annual{
  margin-top: 0;
}
.annual-picks{
  margin-top: 10px;
  display:grid;
  gap: 10px;
}
.annual-pick{
  width: 100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.16);
  color: rgba(255,255,255,.92);
  cursor:pointer;
}
.annual-pick strong{ font-weight: 1000; }
.annual-pick .tag{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
}
.annual-pick.is-ready .tag{
  border-color: rgba(134,239,172,.35);
  background: rgba(134,239,172,.10);
}
.annual-pick.is-locked{
  opacity: .55;
  cursor: not-allowed;
}
.annual-pick.is-locked .tag{
  border-color: rgba(255,255,255,.10);
}

/* =========================
   ANNUAL DATE PICKER MODAL
========================= */
/* ANNUAL-MODAL */
.modal{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 18px;
}
.modal.hidden{ display:none; }
.modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(6px);
}
.modal-card{
  position: relative;
  width: min(520px, 96vw);
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(20,20,25,.92);
  box-shadow: 0 30px 80px rgba(0,0,0,.55);
  padding: 14px;
}
.modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 10px;
}
.modal-title{
  font-weight: 1000;
  font-size: 16px;
}
.modal-foot{
  margin-top: 10px;
  font-size: 12px;
  color: rgba(255,255,255,.72);
}

/* Generic modal content */
.modal-body{
  font-size: 14px;
  line-height: 1.35;
}
.modal-actions{
  display:flex;
  gap: 10px;
  justify-content:flex-end;
  flex-wrap: wrap;
  margin-top: 12px;
}

/* Password input row with show/hide toggle (signup modal) */
.pw-row{ display:flex; align-items:center; gap:8px; }
.pw-row .input{ flex:1 1 auto; }
.pw-toggle{ padding:10px 12px; border-radius:12px; width:auto; }

/* Generic UI modal: keep actions visible even when content is long */
#uiModal .modal-card{
  max-height: 88vh;
  display:flex;
  flex-direction: column;
}
#uiModal .modal-body{
  flex: 1 1 auto;
  min-height: 0;
  overflow:auto;
  padding-right: 4px;
}
#uiModal .modal-actions{
  flex: 0 0 auto;
  position: sticky;
  bottom: 0;
  padding-top: 12px;
  background: rgba(20,20,25,.98);
  border-top: 1px solid rgba(255,255,255,.10);
}

/* Upsell modal layout: grouped sections + multi-column grid */
.upsellGroup{ margin: 14px 0 0; }
.upsellGroupTitle{ font-weight: 950; font-size: 12px; opacity: .9; letter-spacing: .2px; margin-bottom: 8px; }
.upsellGrid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 10px;
}
.upsellRow{
  border:1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  padding: 12px;
  background: rgba(255,255,255,.03);
}
.upsellRowTop{ display:flex; justify-content:space-between; gap: 12px; align-items:flex-start; }
.upsellRowLeft{ min-width:0; }
.upsellRowRight{ flex: 0 0 auto; display:flex; flex-direction:column; gap: 8px; align-items:flex-end; }
.upsellName{ font-weight: 900; line-height: 1.2; }
.upsellLine{ font-size: 13px; opacity: .9; margin-top: 4px; }
.upsellMuted{ opacity: .75; }
.upsellRow .btn{ padding: 8px 12px; white-space: nowrap; }
.upsellRow .uAdded{ display:none; font-size: 13px; opacity: .95; white-space: nowrap; }

/* Make annual date picker modal roomier */
#annualModal .modal-card{
  width: min(920px, 96vw);
}
#annualModal .modal-cal{
  max-height: 70vh;
  overflow:auto;
}

/* Calendar badges: add labels */
.cal-badge small{
  display:block;
  font-size: 10px;
  opacity: .8;
  margin-top: -2px;
}
.cal-grid-small{
  gap: 8px;
}
.cal-grid-small .cal-day{
  min-height: 54px;
}


/* Inventory stepper: + on top, - on bottom */
.inv-stepper{
  display:flex;
  flex-direction: column;
  align-items: stretch;
  gap: 8px;
  width: 84px;
}
.inv-stepper .inv-qty{
  text-align:center;
}

/* Add more hint: no big background; use flash on change */
.inv-addmore{
  margin-top: 10px;
  display:flex;
  align-items:flex-start;
  gap: 10px;
  padding: 0;
  border: 0;
  background: transparent;
  box-shadow: none;
  color: rgba(255,255,255,.88);
}
.inv-addmore .bang{
  width: 28px; height: 28px;
  border-radius: 999px;
  display:flex; align-items:center; justify-content:center;
  border: 1px solid rgba(99,102,241,.55);
  background: rgba(99,102,241,.18);
  font-weight: 1000;
}
.inv-addmore.flash{
  animation: invFlash 520ms ease;
}
@keyframes invFlash{
  0%{ transform: translateY(0); filter: brightness(1); }
  35%{ transform: translateY(-1px); filter: brightness(1.25); }
  100%{ transform: translateY(0); filter: brightness(1); }
}

/* Annual savings amount emphasis */
#annualSaveInline{
  font-weight: 1000;
  color: rgba(134,239,172,.95);
}


/* Stronger modal separation for annual date picker */
.modal-backdrop{
  background: rgba(0,0,0,.78) !important;
  backdrop-filter: blur(6px);
}
.modal-card{
  box-shadow: 0 30px 90px rgba(0,0,0,.55) !important;
  border: 1px solid rgba(255,255,255,.14) !important;
}

.strike{ text-decoration: line-through; opacity:.65; }


/* Inventory actions: upsell left, buttons right */
.inv-actions{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  flex-wrap: wrap;
}
.inv-actions-buttons{
  display:flex;
  gap: 10px;
  align-items:center;
}
.inv-upsell{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  cursor:pointer;
  user-select:none;
  max-width: 100%;
}
.inv-upsell .bang{
  width: 24px; height: 24px;
  border-radius: 999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 1000;
  border: 1px solid rgba(251,191,36,.45);
  background: rgba(251,191,36,.18);
}
.inv-upsell:hover{ background: rgba(0,0,0,.26); }

/* Inventory card topline: name above price; clamp long text */
.inv-topline{
  display:flex;
  flex-direction: column;
  gap: 6px;
  align-items:flex-start;
}
.inv-name{
  width:100%;
  overflow:hidden;
  text-overflow: ellipsis;
  display:-webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}
.inv-badge{
  max-width: 100%;
  white-space: nowrap;
  overflow:hidden;
  text-overflow: ellipsis;
}

/* Qty controls: - [qty] + */
.inv-controls{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-wrap: nowrap;
}
.inv-controls .inv-btn{
  min-width: 64px;
  height: 40px;
  padding: 0 10px;
  font-size: 12px;
}
.inv-controls .inv-qty{
  width: 90px;
  text-align:center;
}

/* Flash when qty changes */
@keyframes qtyFlash {
  0% { box-shadow: 0 0 0 rgba(0,0,0,0); }
  35% { box-shadow: 0 0 0 3px rgba(134,239,172,.18); }
  100% { box-shadow: 0 0 0 rgba(0,0,0,0); }
}
.inv-card.flash{
  animation: qtyFlash .6s ease-out;
}

/* Annual savings emphasis */
.save-amt{
  color: rgba(134,239,172,.98);
  font-weight: 1000;
}

/* Annual modal backdrop stronger */
.modal-backdrop{
  background: rgba(0,0,0,.65);
  backdrop-filter: blur(6px);
}


/* Topbar right buttons */
.topbar-right{
  display:flex;
  align-items:center;
  gap:10px;
}
.topbar-btn{
  padding:9px 12px;
  border-radius:999px;
}
.status-pill.on .status-dot{
  background: rgba(134,239,172,.95);
  box-shadow: 0 0 0 3px rgba(134,239,172,.18);
}

/* Profile */
.profile-header{
  display:flex; justify-content:space-between; align-items:flex-start;
  gap:14px; flex-wrap:wrap;
  margin-bottom: 14px;
}
.profile-title{font-weight:1000; font-size:26px; letter-spacing:-.02em;}
.profile-sub{color:var(--muted); margin-top:6px;}
.profile-actions{display:flex; gap:10px; align-items:center;}
.profile-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
@media (max-width: 980px){
  .profile-grid{grid-template-columns: 1fr;}
}
.pill-row{display:flex; gap:8px; flex-wrap:wrap;}
.pill{
  padding:7px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  font-size:12px;
}
.pill.good{border-color: rgba(134,239,172,.35); background: rgba(134,239,172,.08);}
.pill.warn{border-color: rgba(251,191,36,.35); background: rgba(251,191,36,.08);}
.pill.bad{border-color: rgba(248,113,113,.35); background: rgba(248,113,113,.08);}

.grid-2{display:grid; grid-template-columns: 1fr 1fr; gap:12px;}
.grid-3{display:grid; grid-template-columns: 1fr 1fr 1fr; gap:12px;}
@media (max-width: 720px){
  .grid-2,.grid-3{grid-template-columns: 1fr;}
}
.section-title{font-weight:900; margin-top:2px;}
.divider{height:1px; background: rgba(255,255,255,.10);}

.input-small{padding:9px 12px; height: 38px; border-radius: 12px; min-width: 220px;}

.orders-list{display:flex; flex-direction:column; gap:12px;}
.order-card{
  border:1px solid rgba(255,255,255,.12);
  border-radius: 16px;
  background: rgba(0,0,0,.18);
  padding: 12px;
}
.order-top{
  display:flex; justify-content:space-between; align-items:flex-start;
  gap: 12px; flex-wrap:wrap;
}
.order-title{font-weight:1000;}
.order-meta{color:var(--muted); font-size:13px; margin-top:4px; line-height:1.35;}
.order-right{text-align:right;}
.order-total{font-weight:1000; font-size:16px;}
.order-actions{display:flex; gap:10px; margin-top:10px; flex-wrap:wrap;}
.btn-mini{padding:8px 10px; border-radius: 12px; font-size:13px;}
.order-items{margin-top:10px; color: var(--muted); font-size:13px;}
.guest-upgrade{
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(122,162,255,.25);
  background: rgba(122,162,255,.06);
}


/* ---------- Top bar structure fix ---------- */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}
.topbar .brand{flex: 0 0 auto;}
.topbar-right{flex: 0 0 auto; display:flex; align-items:center; gap:10px;}
/* Keep the flowbar centered as its own row under the topbar */
.flowbar{
  margin-top: 14px;
  display:flex;
  justify-content:center;
}


.btn-green{ background: var(--green, #1fbf75); border-color: rgba(0,0,0,.08); color:#0b1b12; }
.btn-green:hover{ filter: brightness(1.02); }

.flowstep:disabled{ opacity: .35; cursor: not-allowed; pointer-events: none; }
.flowstep:disabled .dot{ opacity: .65; }


/* Inventory qty display controls */
.inv-qty-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-top: 10px;
}
.inv-qty-display{
  flex:1;
  text-align:center;
}
.inv-qty-num{
  font-size: 22px;
  font-weight: 900;
  line-height: 1.1;
}
.inv-qty-inc{
  font-size: 12px;
  opacity: .8;
}
.inv-line-upsell{
  margin-top: 6px;
}
.inv-upsell-btn{
  padding: 6px 10px;
  font-size: 12px;
}

/* Two-line nav buttons */
.btn-main{ font-weight: 900; line-height: 1.05; }
.btn-sub{ font-size: 11px; opacity: .8; line-height: 1.05; margin-top: 2px; }

/* Bottom page actions */
.page-actions-bottom{
  margin-top: 16px;
  display:flex;
  justify-content:flex-end;
  gap: 10px;
}

/* Inventory: read-only qty display (no typing) */
.inv-qty-readonly{ display:flex; align-items:center; justify-content:center; user-select:none; }



/* ===== UX FIXES (v3.6.1) ===== */
.qty-controls{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
}
.qty-controls .qty-btn{
  padding: 8px 10px;
  font-size: 12px;
  line-height: 1;
  border-radius: 12px;
}
.qty-controls .qty-value{
  min-width: 72px;
  text-align:center;
  font-weight: 900;
  font-size: 18px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
}


/* Inventory qty row + hint layout */
.inv-controls{
  display:flex;
  flex-direction: column;
  align-items:flex-start;
  gap: 8px;
}
.inv-controls .qty-controls{
  width: 100%;
}
.inv-controls .qty-btn{
  padding: 6px 9px;
  font-size: 11px;
  height: 34px;
  min-width: 58px;
}
.inv-controls .qty-value{
  font-size: 16px;
  padding: 8px 10px;
  min-width: 72px;
}


/* Categories */
.cat-preview{margin-top:8px;display:flex;align-items:center;gap:10px;}
.cat-preview img{width:56px;height:56px;object-fit:cover;border-radius:10px;border:1px solid rgba(255,255,255,.12);} 
.inv-cats{display:flex;gap:6px;overflow:auto;padding:6px 2px 0 2px;margin-bottom:14px;border-bottom:1px solid rgba(255,255,255,.14);}
.inv-cat-btn{flex:0 0 auto;display:flex;align-items:center;gap:8px;padding:10px 14px;border-radius:14px 14px 0 0;border:1px solid rgba(255,255,255,.14);border-bottom:none;background:rgba(255,255,255,.04);cursor:pointer;position:relative;top:1px;}
.inv-cat-btn.active{border-color:rgba(255,255,255,.35);background:rgba(255,255,255,.10);} 
.inv-cat-img{width:28px;height:28px;border-radius:10px;object-fit:cover;border:1px solid rgba(255,255,255,.12);} 
.inv-cat-name{font-weight:700;font-size:.95rem;white-space:nowrap;}

/* Typed quantity input (Inventory) */
.inv-qty-input{
  width: 72px;
  text-align: center;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: var(--text);
  padding: 8px 8px;
  font-weight: 950;
  font-size: 14px;
  outline: none;
}
.inv-qty-input:focus{
  box-shadow: 0 0 0 4px rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.22);
}
/* Ensure select inputs are readable */
select.input{ color: var(--text); }


/* Select dropdown readability */
select.input{
  background: rgba(10,10,18,.92);
  color: var(--text);
  border-color: rgba(255,255,255,.18);
}
select.input option{
  background: rgb(10,10,18);
  color: var(--text);
}

/* --- Catalog (public gallery) --- */
.hero-cta-row{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;}

.cat-wrap{padding:10px 0;}
.cat-header{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;margin:6px 0 14px;}
.cat-title{font-size:22px;font-weight:800;}
.cat-sub{color: var(--muted);font-size:14px;max-width:620px;}
.cat-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;}
.cat-card{background: rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);border-radius:14px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;}
.cat-card:focus{outline:2px solid rgba(255,255,255,.30);outline-offset:2px;}
.cat-thumb{height:160px;background: rgba(255,255,255,.04);display:flex;align-items:center;justify-content:center;overflow:hidden;}
.cat-thumb img{width:100%;height:100%;object-fit:cover;display:block;}
.cat-ph{font-size:40px;opacity:.85;}
.cat-body{padding:12px;display:flex;flex-direction:column;gap:10px;}
.cat-name{font-weight:800;}
.cat-prices{display:flex;flex-direction:column;gap:2px;}
.cat-price-main{font-size:16px;font-weight:800;}
.cat-price-sub{font-size:14px;color: var(--muted);}
/* Gallery CTA: slightly smaller so the card breathes */
.cat-cta{width:100%;padding:9px 12px;font-size:13px;}
